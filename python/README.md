# Convex Optimization for PEAs
Python Code for Convex Optimization for Spring Design of Parallel Elastic Actuators and Series Elastic Actuators.

"sea_lin_cvxpy.py" serves as the main function for convex optimization for linear SEAs. From Line 117 to 132, users can define SEA parameters (as global variables), the motion task, and parameters for Monte Carlo simulations. Users can also generate figures of the time history of load position, load velocity, load acceleration, and load torque. From Line 241 to 304, users can perform convex optimizations under such task and parameters to get global optimal linear SEA designs. Users can also run the Monte Carlo simulation for the linear SEA under imperfect tracking cases.

"sea_nonlin_cvxpy.py" serves as the main function for convex optimization for nonlinear SEAs. From Line 222 to 237, users can define SEA parameters (as global variables), the motion task, and parameters for Monte Carlo simulations. Users can also generate figures of the time history of load position, load velocity, load acceleration, and load torque. From Line 386 to 559, users can perform convex optimizations under such task and parameters to get global optimal nonlinear SEA designs, and generate the figure of the torque-elongation profile. Users can also run the Monte Carlo simulation for the nonlinear SEA under imperfect tracking cases. In the end, the nonlinear spring stiffness vector is stored into a text file under "logs/".

"pea_lin_cvxpy.py" serves as the main function for convex optimization for linear PEAs. From Line 117 to 132, users can define PEA parameters (as global variables), the motion task, and parameters for Monte Carlo simulations. Users can also generate figures of the time history of load position, load velocity, load acceleration, and load torque. From Line 241 to 318, users can perform convex optimizations under such task and parameters to get global optimal linear PEA designs. Users can also run the Monte Carlo simulation for the linear PEA under imperfect tracking cases.

"pea_nonlin_cvxpy.py" serves as the main function for convex optimization for nonlinear PEAs. From Line 222 to 237, users can define PEA parameters (as global variables), the motion task, and parameters for Monte Carlo simulations. Users can also generate figures of the time history of load position, load velocity, load acceleration, and load torque. From Line 385 to 522, users can perform convex optimizations under such task and parameters to get global optimal nonlinear PEA designs, and generate the figure of the torque-elongation profile. Users can also run the Monte Carlo simulation for the nonlinear PEA under imperfect tracking cases. In the end, the nonlinear spring stiffness vector is stored into a text file under "logs/".

**Note**: If you need the folder "1_InputData_BiomechanicDatasets", you can unzip "InputData.zip".
If "sea_nonlin_cvxpy.py" failed to execute due to the positive semi-definite issue in Line 435 (the quadratic inequality constraint for the RMS motor torque), please consider commenting out Line 429 and 435.
Similarly, If "pea_nonlin_cvxpy.py" failed to execute due to the positive semi-definite issue in Line 433 (the quadratic inequality constraint for the RMS motor torque), please consider commenting out Line 427 and 433. The authors is fixing this issue at this moment.
